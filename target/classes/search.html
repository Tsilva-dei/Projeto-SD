<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
    <title>Resultados - Googol</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .result { margin-bottom: 20px; }
        .result a { font-size: 18px; color: #1a0dab; text-decoration: none; }
        .result a:hover { text-decoration: underline; }
        .url { color: #006621; font-size: 14px; }
        .citation { color: #545454; font-size: 14px; }
        .meta { font-size: 14px; color: #777 };
        .pagination { margin-top: 30px };
    </style>
</head>
<body>
    <div style="margin-bottom: 20px">
        <a href="/">Voltar</a>
        <form action="/search" method="get" style="display:inline; margin-left: 20px">
            <input type="text" name="q" th:value="${query}" required>
            <button type="submit">Pesquisar</button>
        </form>
    </div>

    <h2>Resultados para: span th:text="${query}"</span></h2>

    <div th:if="${error}" style="color:red" th:text="${error}"></div>

    <div th:each="res : ${results}" class="result">
        <div><a th:href="${res.url}" th:text="${res.title}">Título</a></div>
        <div class="url" th:text="${res.url}">http://url...</div>
        <div class="citation" th_text="${res.citation}">Texto...</div>
        <div class="meta" th:text="${res.incominglinks + 'links a apontar para cá'}"></div>
    </div>

    <div th:if="${#lists.isEmpty(results)}">
        <p>Nenhum resultado encontrado</p>
    </div>

    <div class="pagination" th:if="${not #lists.isEmpty(results)}">
        <a th:if="${showPrevious}" th:href="@{/search(q=${query}, p=${previousPage})}">Anterior</a>
        <span th:text="${'Página' + (page + 1)}"></span>
        <a th:if="${showNext}" th:href="@{/search(q=${query}, p=${nextPage})}">Próximo</a>
    </div>
</body>
</html>